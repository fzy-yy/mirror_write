# Mirror Write - 镜像书写练习工具

![License](https://img.shields.io/badge/license-GPL--3.0-blue)
![React](https://img.shields.io/badge/react-%5E19.2.3-blue)
![TypeScript](https://img.shields.io/badge/typescript-%7E5.9.3-blue)

Mirror Write 是一个基于 React 和 Canvas 开发的静态网页应用，旨在通过镜像书写的方式帮助用户锻炼右脑、提升专注力和手眼协调能力。该工具特别适合需要进行镜像书写训练的牙科专业学生和从业者。

## 🎯 主要功能

- **分屏书写**：屏幕分为上下两个区域，大小相等，提供舒适的书写体验。
- **实时镜像**：在书写区（默认为下方）的书写笔迹会实时、上下镜像地显示在显示区（默认为上方）。
- **背景图片支持**：
  - 支持上传自定义图片作为背景（如字帖、练习材料）
  - 背景图片会自动填充上下两个区域
  - 支持一键清除背景
- **丰富的书写工具**：
  - **画笔**：支持自定义颜色和粗细
  - **橡皮擦**：支持自定义大小
  - **设置面板**：选中工具后再次点击工具图标即可呼出设置面板
- **多种练习模式**：
  - **切换书写区**：支持一键切换上方或下方作为主动书写区域
  - **盲写模式**：可以隐藏当前书写区的背景和笔迹（只显示另一侧的镜像笔迹），增加练习难度
  - **标签开关**：可隐藏界面上的区域提示标签，提供更沉浸的体验
  - **全屏模式**：提供沉浸式的全屏练习体验
- **自适应布局**：完美适配 PC、平板和手机，支持窗口大小调整而不丢失笔迹位置

## 🛠️ 技术栈

- **React 19**: 构建用户界面
- **TypeScript**: 提供严格的类型检查，增强代码可维护性
- **HTML5 Canvas**: 处理高性能的绘图操作
- **Tailwind CSS**: 快速构建响应式 UI
- **Lucide React**: 提供精美的图标库
- **Vite**: 构建工具，提供快速的开发体验

## 🚀 快速开始

### 本地运行

#### 环境要求

- Node.js >= 18
- npm, yarn 或 pnpm 包管理器

#### 安装步骤

1. 克隆仓库：

```bash
git clone https://github.com/fzy-yy/mirror_write.git
cd mirror_write
```

2. 安装依赖：

```bash
# 使用 npm
npm install

# 或使用 yarn
yarn install

# 或使用 pnpm
pnpm install
```

3. 启动开发服务器：

```bash
# 使用 npm
npm run dev

# 或使用 yarn
yarn dev

# 或使用 pnpm
pnpm dev
```

4. 在浏览器中打开 http://localhost:5173 查看应用

#### 构建部署

要构建生产版本，运行：

```bash
# 使用 npm
npm run build

# 或使用 yarn
yarn build

# 或使用 pnpm
pnpm build
```

构建后的文件将位于 `dist` 目录中，可以部署到任何静态文件服务器上。

## 📖 使用指南

### 基础操作

1. **开始书写**：

   - 打开网页，默认下方为书写区
   - 使用鼠标或触控笔在下方区域书写，上方会出现镜像的笔迹

2. **调整工具**：

   - 点击左侧工具栏的"画笔"图标选择画笔，**再次点击**该图标可调整颜色和粗细
   - 点击"橡皮擦"图标选择橡皮，**再次点击**可调整大小

3. **上传字帖/背景**：

   - 点击左侧的"上传"图标选择本地图片
   - 点击下方的"全屏"图标可以进入全屏模式
   - 图片加载后，可以在背景上进行描红练习
   - 练习完毕后，点击变更为橙色的"清除图片"图标即可移除背景

4. **进阶练习**：
   - 点击"眼睛"图标开启盲写模式，书写区变白且不显示笔迹，只能看着镜像区进行书写
   - 点击"交换"图标切换书写位置
   - 点击底部"垃圾桶"下方的"信息"图标，可以查看本说明文档

## 📁 项目结构

```
.
├── components/          # UI 组件
│   ├── AboutModal.tsx   # Markdown 渲染模态框
│   ├── CanvasZone.tsx   # 画布区域组件 (核心复用组件)
│   ├── SettingsModal.tsx # 设置弹窗
│   └── Sidebar.tsx      # 左侧工具栏
├── hooks/
│   └── useCanvasResize.ts # 处理 Canvas 自适应大小的 Hook
├── utils/
│   └── drawUtils.ts     # 纯函数绘图逻辑
├── App.tsx              # 主应用入口，管理全局状态
├── types.ts             # TypeScript 类型定义
└── index.tsx            # React 挂载入口
```

## ⚙️ 自定义配置

### 环境变量

项目支持通过环境变量进行配置，在项目根目录的 `.env` 文件中，你可以修改默认图片路径，关于文档路径等配置。

### 修改说明文档

"关于"模态框会加载 public 目录下的 `about.md`,如果 `about.md` 文档被删除，就会直接加 `README.md` 文档，如果你想加载其他文档，请在 `.env` 中修改：

```
// .env
VITE_ABOUT_DOC_PATH = "./YOUR_FILE.md";
```

## 🤝 贡献

感谢您的贡献想法，但是本仓库可能不再更新，如果有需要，请自行下载源代码在遵守许可的情况下进行二次开发。

## ⚠️ 注意事项

- 应用为纯前端静态页面，刷新页面后笔迹会丢失，请注意保存截图（如果需要）
- 在调整浏览器窗口大小时，笔迹会自动适配新的比例，不会丢失
- 该项目专为牙科专业人员的镜像书写训练而设计

## 📄 许可证

本项目采用 GPL-3.0 许可证，详情请见 [LICENSE](./LICENSE) 文件。
